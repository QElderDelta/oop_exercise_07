\documentclass[a4paper, 12pt]{article}
\usepackage{cmap}
\usepackage[12pt]{extsizes}			
\usepackage{mathtext} 				
\usepackage[T2A]{fontenc}			
\usepackage[utf8]{inputenc}			
\usepackage[english,russian]{babel}
\usepackage{setspace}
\singlespacing
\usepackage{amsmath,amsfonts,amssymb,amsthm,mathtools}
\usepackage{fancyhdr}
\usepackage{soulutf8}
\usepackage{euscript}
\usepackage{mathrsfs}
\usepackage{listings}
\pagestyle{fancy}
\usepackage{indentfirst}
\usepackage[top=10mm]{geometry}
\rhead{}
\lhead{}
\renewcommand{\headrulewidth}{0mm}
\usepackage{tocloft}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
\usepackage[dvipsnames]{xcolor}

\lstdefinestyle{mystyle}{ 
	keywordstyle=\color{OliveGreen},
	numberstyle=\tiny\color{Gray},
	stringstyle=\color{BurntOrange},
	basicstyle=\ttfamily\footnotesize,
	breakatwhitespace=false,         
	breaklines=true,                 
	captionpos=b,                    
	keepspaces=true,                 
	numbers=left,                    
	numbersep=5pt,                  
	showspaces=false,                
	showstringspaces=false,
	showtabs=false,                  
	tabsize=2
}

\lstset{style=mystyle}

\begin{document}
\thispagestyle{empty}	
\begin{center}
	Московский авиационный институт
	
	(Национальный исследовательский университет)
	
	Факультет "Информационные технологии и прикладная математика"
	
\end{center}
\vspace{40ex}
\begin{center}
	\textbf{\large{Лабораторная работа №7 по курсу \textquotedblleft Объектно-ориентированное программирование\textquotedblright}}
\end{center}
\vspace{40ex}
\begin{flushright}
	\textit{Студент: } Живалев Е.А.
	
	\vspace{2ex}
	\textit{Группа: } М8О-206Б
	
	\vspace{2ex}
	\textit{Преподаватель: } Журавлев А.А.
	
	\vspace{2ex}
	\textit{Вариант: } 5
	
	\vspace{2ex}
	\textit{Оценка: } \underline{\quad\quad\quad\quad\quad\quad}
	
	 \vspace{2ex}
	\textit{Дата: } \underline{\quad\quad\quad\quad\quad\quad}
	
\end{flushright}

\begin{vfill}
	\begin{center}
		Москва
		
		2019
	\end{center}	
\end{vfill}
\newpage
\section{Исходный код}

Ссылка на github : https://github.com/QElderDelta/oop\_exercise\_07

\vspace{3ex}
\textbf{\large{figure.hpp}}
\lstinputlisting[language=C++]{figure.hpp}

\vspace{3ex}
\textbf{\large{rhombus.hpp}}
\lstinputlisting[language=C++]{rhombus.hpp}

\vspace{3ex}
\textbf{\large{rhombus.cpp}}
\lstinputlisting[language=C++]{rhombus.cpp}

\vspace{3ex}
\textbf{\large{pentagon.hpp}}
\lstinputlisting[language=C++]{pentagon.hpp}

\vspace{3ex}
\textbf{\large{pentagon.cpp}}
\lstinputlisting[language=C++]{pentagon.cpp}

\vspace{3ex}
\textbf{\large{hexagon.hpp}}
\lstinputlisting[language=C++]{hexagon.hpp}

\vspace{3ex}
\textbf{\large{hexagon.cpp}}
\lstinputlisting[language=C++]{hexagon.cpp}

\vspace{3ex}
\textbf{\large{point.hpp}}
\lstinputlisting[language=C++]{point.hpp}

\vspace{3ex}
\textbf{\large{point.cpp}}
\lstinputlisting[language=C++]{point.cpp}

\vspace{3ex}
\textbf{\large{command.hpp}}
\lstinputlisting[language=C++]{command.hpp}

\vspace{3ex}
\textbf{\large{editor.hpp}}
\lstinputlisting[language=C++]{editor.hpp}

\vspace{3ex}
\textbf{\large{factory.hpp}}
\lstinputlisting[language=C++]{factory.hpp}

\vspace{3ex}
\textbf{\large{document.hpp}}
\lstinputlisting[language=C++]{document.hpp}

\vspace{3ex}
\textbf{\large{main.cpp}}
\lstinputlisting[language=C++]{main.cpp}


\vspace{3ex}
\textbf{\large{CMakeLists.txt}}
\lstinputlisting{CMakeLists.txt}
\newpage
\section{Тестирование}
\vspace{3ex}

\textbf{test\_01.txt}:

Попробуем добавить в документ фигуру с координатами (-5, 0), (-4, -1), (-3, -1), (-2, 0), которая очевидно не является ромбом, рассчитывая получить сообщение об ошибке. Затем добавим ромб с координатами (-5, 0), (-3, 1), (-1, 0), (-3, -1), площадь которого равна 4, а центр находится в точке (-3, 0), а также пятиугольник с координатами (-3.000, 0.000), (-2.000, 1.000), (-1.000, 1.000), (0.000, 0.000), (-1.000, -1.000), площадь которого равна 3.5 и шестиугольник с координатами
(-3.000, 0.000), (-2.000, 1.000), (-1.000, 1.000), (0.000, 0.000), (-1.000, -1.000), (-2.000, -1.000), (-1.500, -0.000) с площадью равной 4. Затем удалим шестиугольник и пятиугольник, еще раз выведем содержимое документа и сделаем undo.

Результат:

new - Creates new document

save <path to file> - saves document to file

load <path to file> - loads document from file

add R/P/H <coordinates> - adds Rhombus/Pentagon/Hexagon to the document

remove <Figure ID> - removes figure with given ID if it is present

undo - undo last action

print - prints information about all figures from document

help - do I really need to explain what help does?

exit - exit editor

new

add R -5 0 -4 -1 -3 -1 -2 0

Entered coordinates are not forming Rhombus. Try entering new coordinates

print

add R -5 0 -3 1 -1 0 -3 -1

add P -3 0 -2 1 -1 1 0 0 -1 -1

add H -3 0 -2 1 -1 1 0 0 -1 -1 -2 -1 

print

Rhombus: [-5.000, 0.000] [-3.000, 1.000] [-1.000, 0.000] [-3.000, -1.000] Center: [-3.000, 0.000] 

Area: 4.000 ID: 0

Pentagon: [-3.000, 0.000] [-2.000, 1.000] [-1.000, 1.000] [0.000, 0.000] [-1.000, -1.000] Center: 

[-1.429, 0.095] Area: 3.500 ID: 1


Hexagon:[-3.000, 0.000] [-2.000, 1.000] [-1.000, 1.000] [0.000, 0.000] [-1.000, -1.000] [-2.000, 

-1.000] Center: [-1.500, -0.000] Area: 4.000 ID: 2

remove 2

remove 1

print

Rhombus: [-5.000, 0.000] [-3.000, 1.000] [-1.000, 0.000] [-3.000, -1.000] Center: [-3.000, 0.000] 

Area: 4.000 ID: 0

undo

print

Rhombus: [-5.000, 0.000] [-3.000, 1.000] [-1.000, 0.000] [-3.000, -1.000] Center: [-3.000, 0.000] 

Area: 4.000 ID: 0

Pentagon: [-3.000, 0.000] [-2.000, 1.000] [-1.000, 1.000] [0.000, 0.000] [-1.000, -1.000] Center: 

[-1.429, 0.095] Area: 3.500 ID: 1

exit






\vspace{3ex}

\textbf{test\_02.txt} 

Добавим в документ ромб с координатами [4.000, 0.000], [8.000, 2.000], [12.000, 0.000], [8.000, -2.000], центром в точке [8, 0] и площадью равной 16, квадрат с координатами [4.000, 2.000], [8.000, 2.000], [8.000, -2.000], [4.000, -2.000] с центром в точке [6, 0] и площадью равной 16, пятиугольник с координатами [4.000, 0.000], [8.000, 2.000], [12.000, 0.000], [8.000, -2.000], [6.000, -2.000] и площадью равной 18. Затем выведем все фигуры и добавим шестиугольник с координатами [4.000, 0.000], [8.000, 2.000], [10.000, 2.000], [12.000, 0.000], [8.000, -2.000], [6.000, -2.000] и площадью равной 20. Еще раз выведем все фигуры, сделаем undo, удалим пятиугольник и квадрат и еще раз выведем все фигуры.

Результат:

new - Creates new document

save <path to file> - saves document to file

load <path to file> - loads document from file

add R/P/H <coordinates> - adds Rhombus/Pentagon/Hexagon to the document

remove <Figure ID> - removes figure with given ID if it is present

undo - undo last action

print - prints information about all figures from document

help - do I really need to explain what help does?

exit - exit editor

Rhombus: [4.000, 0.000] [8.000, 2.000] [12.000, 0.000] [8.000, -2.000] Center: [8.000, 0.000] 

Area: 16.000 ID: 0

Rhombus: [4.000, 2.000] [8.000, 2.000] [8.000, -2.000] [4.000, -2.000] Center: [6.000, 0.000] 

Area: 16.000 ID: 1

Pentagon: [4.000, 0.000] [8.000, 2.000] [12.000, 0.000] [8.000, -2.000] [6.000, -2.000] Center: 

[7.778, -0.148] Area: 18.000 ID: 2

Rhombus: [4.000, 0.000] [8.000, 2.000] [12.000, 0.000] [8.000, -2.000] Center: [8.000, 0.000] 

Area: 16.000 ID: 0

Rhombus: [4.000, 2.000] [8.000, 2.000] [8.000, -2.000] [4.000, -2.000] Center: [6.000, 0.000] 

Area: 16.000 ID: 1

Pentagon: [4.000, 0.000] [8.000, 2.000] [12.000, 0.000] [8.000, -2.000] [6.000, -2.000] Center: 

[7.778, -0.148] Area: 18.000 ID: 2

Hexagon:[4.000, 0.000] [8.000, 2.000] [10.000, 2.000] [12.000, 0.000] [8.000, -2.000] [6.000, 

-2.000] Center: [8.000, 0.000] Area: 20.000 ID: 3

Rhombus: [4.000, 0.000] [8.000, 2.000] [12.000, 0.000] [8.000, -2.000] Center: [8.000, 0.000] 

Area: 16.000 ID: 0

\section{Объяснение результатов работы программы}

При вводе координат для создания ромба производится проверка этих координат, ведь они могут не образовывать ромб. Для этого реализована функция checkIfRhombus, которая вычисляет расстояния от одной точки до трёх остальных, а поскольку фигура является ромбом, то два из низ должны быть равны. Третье же значение функция возвращает ведь оно равно длине одной из диагоналей. Площадь ромба вычисляется как половина произведения диагоналей, центр - точка пересечения диагоналей. Методы вычисления площади и центра для пяти- и шестиугольника совпадают. Чтобы найти площадь необходимо перебрать все ребра и сложить площади трапеций, ограниченных этими ребрами. Чтобы найти центр необходимо разбить фигуры на треугольники(найти одну точку внутри фигуры), для каждого треугольника найти центроид и площадь и перемножить их, просуммировать полученные величины и разделить на общую площадь фигуры.   

\newpage
\section{Выводы}

В ходе выполнения работы я познакомился с некоторыми принципами и паттернами проектирования программ, что позволило достаточно неплохо организовать структуру классов моей программы.
\end{document}